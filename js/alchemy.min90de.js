var yourcode;function downloadv(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(t,e);else{var a=window.URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=e,n.click(),window.URL.revokeObjectURL(a)}}function checkNumber(t){return!!$.isNumeric(t)&&Math.floor(t)==t&&t<=999&&t>0&&t}function createImage(){$(".g-recaptcha").attr("disabled",!0);var t=$("#int").serialize();return url=$("#alchemyImg").attr("value"),terga="1",$.ajax({url:url,method:"POST",type:"POST",dataType:"json",data:{_token:$('input[name="_token"]').attr("value"),form:t,"g-recaptcha-response":grecaptcha.getResponse()},success:function(t){t.status&&t.msg&&toastr[t.status](t.msg),t.data&&downloadv(b64toBlob(t.data.encoded),"alchemy.html"),setTimeout(function(){grecaptcha.reset()},3e3)},error:function(){setTimeout(function(){grecaptcha.reset()},3e3),toastr.error("Error!111")}}),!1}function b64toBlob(t){for(var e=atob(t.split(",")[1]),a=new ArrayBuffer(e.length),n=new Uint8Array(a),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return createBlob(a,"img/png")}function createBlob(t,e){return new Blob([t],{type:e})}baseUrl=$('meta[name="baseUrl"]').attr("content"),toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,rtl:!1,positionClass:"toastr-bottom-right",preventDuplicates:!1,onclick:null,showDuration:300,hideDuration:1e3,timeOut:3e3,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},$(".autocomplete").autocomplete({source:function(t,e){url=$("#alchemyUrl").attr("value");var a=this.element,n=t.term;id=a.attr("id"),$.ajax({url:url,method:"post",type:"post",dataType:"json",data:{_token:$('input[name="_token"]').attr("value"),item:n,id:id},success:function(t){t.data.length,e($.map(t.data,function(t){return{label:t.name,value:t.image,bottom:t.bottom,left:t.left,item_id:t.item_id,url:t.url}}))},error:function(){console.log("Error!")}})},minLength:5,select:function(t,e){return $("#"+id).val(e.item.label),$("#"+id).attr("data-id",e.item.item_id),slot=$(this).attr("data-slot"),$("#"+slot).length?(console.log(id),$("#item_"+id).val(e.item.value),$("#"+slot).find("a").remove(),$("#"+slot).prepend('<a target="_blank" href="'+e.item.url+'"><img src="'+e.item.value+'" alt=""></a>')):(console.log(id),$("#item_"+id).val(e.item.value),$(".alchemy-container").append('<div id="slot'+id+'" class="round" style="left:'+e.item.left+"px;bottom:"+e.item.bottom+'px"><a target="_blank" href="'+e.item.url+'"><img src="'+e.item.value+'" alt=""></a></div>')),!1},create:function(){$(this).data("ui-autocomplete")._renderItem=function(t,e){return $("<li>").append("<a><img src='"+e.value+"' />"+e.label+"</a>").appendTo(t)}}}),(yourcode=function(t,e,a){t(".quantity").on("change",function(){if(slot=t(this).attr("data-slot"),num="",quantity=t(this).val().replace(/^0+/,""),t("#"+slot).find(".item-count").remove(),console.log(checkNumber(t(this).val())),checkNumber(t(this).val())){num=quantity;var e=t(this).attr("id").split("q").pop();t("#quantity_"+e).val(num);for(var a=0;a<quantity.length;a++);}t("#"+slot).append('<div class="item-count">'+num+"</div>")}),t("#aca").on("click",function(){console.log("clic"),t("#copy").html(""),count=1,t("#multiCollapseExample1,#multiCollapseExample2,#multiCollapseExample3,#multiCollapseExample4,#multiCollapseExample5").find(":input").each(function(){val=t(this).val(),type=t(this).attr("type"),text="",id="",(1==count||17==count||33==count||49==count||65==count)&&(title="ROUND []\r\n",t("#copy").append(title)),"text"==type&&(id=t(this).attr("data-id"),text=""==val?"[Item]":val+" ["+id+"]"),"number"==type&&(""==val?text+="  [Quantity]\r\n":text=text+" x"+val+"\r\n"),count+=1,t("#copy").append(text)}),downloadv(blob=createBlob(t("#copy").text(),"text/plain"),"Alchemy-2.html")})})(window.jQuery,window,document);